var pages = "151008_mia335_5047454.jpg,151008_mia335_5047455.jpg,151008_mia335_5047456.jpg,151008_mia335_5047457.jpg,151008_mia335_5047458.jpg,151008_mia335_5047459.jpg,151008_mia335_5047460.jpg,151008_mia335_5047461.jpg,151008_mia335_5047462.jpg,151008_mia335_5047463.jpg,151008_mia335_5047464.jpg,151008_mia335_5047465.jpg,151008_mia335_5047466.jpg,151008_mia335_5047467.jpg,151008_mia335_5047468.jpg,151008_mia335_5047469.jpg,151008_mia335_5047470.jpg,151008_mia335_5047471.jpg,151008_mia335_5047472.jpg,151008_mia335_5047473.jpg,151008_mia335_5047474.jpg,151008_mia335_5047475.jpg,151008_mia335_5047476.jpg,151008_mia335_5047477.jpg,151008_mia335_5047478.jpg,151008_mia335_5047479.jpg,151008_mia335_5047480.jpg,151008_mia335_5047481.jpg,151008_mia335_5047482.jpg,151008_mia335_5047483.jpg,151008_mia335_5047484.jpg,151008_mia335_5047485.jpg,151008_mia335_5047486.jpg,151008_mia335_5047487.jpg,151008_mia335_5047488.jpg,151008_mia335_5047489.jpg,151008_mia335_5047490.jpg,151008_mia335_5047491.jpg,151008_mia335_5047492.jpg,151008_mia335_5047493.jpg,151008_mia335_5047494.jpg,151008_mia335_5047495.jpg,151008_mia335_5047496.jpg,151008_mia335_5047497.jpg,151008_mia335_5047498.jpg,151008_mia335_5047499.jpg,151008_mia335_5047500.jpg,151008_mia335_5047501.jpg,151008_mia335_5047502.jpg,151008_mia335_5047503.jpg,151008_mia335_5047504.jpg,151008_mia335_5047505.jpg,151008_mia335_5047506.jpg,151008_mia335_5047507.jpg,151008_mia335_5047508.jpg,151008_mia335_5047509.jpg,151008_mia335_5047510.jpg,151008_mia335_5047511.jpg,151008_mia335_5047512.jpg,151008_mia335_5047513.jpg,151008_mia335_5047514.jpg,151008_mia335_5047515.jpg,151008_mia335_5047516.jpg,151008_mia335_5047517.jpg,151008_mia335_5047518.jpg,151008_mia335_5047519.jpg,151008_mia335_5047520.jpg,151008_mia335_5047521.jpg,151008_mia335_5047522.jpg,151008_mia335_5047523.jpg,151008_mia335_5047524.jpg,151008_mia335_5047525.jpg,151008_mia335_5047526.jpg,151008_mia335_5047527.jpg,151008_mia335_5047528.jpg,151008_mia335_5047529.jpg,151008_mia335_5047530.jpg,151008_mia335_5047531.jpg,151008_mia335_5047532.jpg,151008_mia335_5047533.jpg,151008_mia335_5047534.jpg,151008_mia335_5047535.jpg,151008_mia335_5047536.jpg,151008_mia335_5047537.jpg,151008_mia335_5047538.jpg,151008_mia335_5047539.jpg,151008_mia335_5047540.jpg,151008_mia335_5047541.jpg,151008_mia335_5047542.jpg,151008_mia335_5047543.jpg,151008_mia335_5047544.jpg,151008_mia335_5047545.jpg,151008_mia335_5047546.jpg,151008_mia335_5047547.jpg,151008_mia335_5047548.jpg,151008_mia335_5047549.jpg,151008_mia335_5047550.jpg,151008_mia335_5047551.jpg,151008_mia335_5047552.jpg,151008_mia335_5047553.jpg,151008_mia335_5047554.jpg,151008_mia335_5047555.jpg,151008_mia335_5047556.jpg,151008_mia335_5047557.jpg,151008_mia335_5047558.jpg,151008_mia335_5047559.jpg,151008_mia335_5047560.jpg,151008_mia335_5047561.jpg,151008_mia335_5047562.jpg,151008_mia335_5047563.jpg,151008_mia335_5047564.jpg,151008_mia335_5047565.jpg,151008_mia335_5047566.jpg,151008_mia335_5047567.jpg,151008_mia335_5047568.jpg,151008_mia335_5047569.jpg,151008_mia335_5047570.jpg,151008_mia335_5047571.jpg,151008_mia335_5047572.jpg,151008_mia335_5047573.jpg,151008_mia335_5047574.jpg,151008_mia335_5047575.jpg,151008_mia335_5047576.jpg,151008_mia335_5047577.jpg,151008_mia335_5047578.jpg,151008_mia335_5047579.jpg,151008_mia335_5047580.jpg,151008_mia335_5047581.jpg,151008_mia335_5047582.jpg,151008_mia335_5047583.jpg,151008_mia335_5047584.jpg,151008_mia335_5047585.jpg,151008_mia335_5047586.jpg,151008_mia335_5047587.jpg,151008_mia335_5047588.jpg,151008_mia335_5047589.jpg,151008_mia335_5047590.jpg,151008_mia335_5047591.jpg,151008_mia335_5047592.jpg,151008_mia335_5047593.jpg,151008_mia335_5047594.jpg,151008_mia335_5047595.jpg,151008_mia335_5047596.jpg,151008_mia335_5047597.jpg,151008_mia335_5047598.jpg,151008_mia335_5047599.jpg,151008_mia335_5047600.jpg,151008_mia335_5047601.jpg,151008_mia335_5047602.jpg,151008_mia335_5047603.jpg,151008_mia335_5047604.jpg,151008_mia335_5047605.jpg,151008_mia335_5047606.jpg,151008_mia335_5047607.jpg,151008_mia335_5047608.jpg,151008_mia335_5047609.jpg,151008_mia335_5047610.jpg,151008_mia335_5047611.jpg,151008_mia335_5047612.jpg,151008_mia335_5047613.jpg,151008_mia335_5047614.jpg,151008_mia335_5047615.jpg,151008_mia335_5047616.jpg,151008_mia335_5047618.jpg,151008_mia335_5047619.jpg,151008_mia335_5047620.jpg,151008_mia335_5047621.jpg,151008_mia335_5047622.jpg,151008_mia335_5047623.jpg,151008_mia335_5047624.jpg,151008_mia335_5047625.jpg,151008_mia335_5047626.jpg,151008_mia335_5047627.jpg,151008_mia335_5047628.jpg,151008_mia335_5047629.jpg,151008_mia335_5047630.jpg,151008_mia335_5047631.jpg,151008_mia335_5047632.jpg,151008_mia335_5047633.jpg,151008_mia335_5047634.jpg,151008_mia335_5047635.jpg,151008_mia335_5047636.jpg,151008_mia335_5047637.jpg,151008_mia335_5047638.jpg,151008_mia335_5047639.jpg,151008_mia335_5047640.jpg,151008_mia335_5047641.jpg,151008_mia335_5047642.jpg,151008_mia335_5047643.jpg,151008_mia335_5047644.jpg,151008_mia335_5047645.jpg,151008_mia335_5047646.jpg,151008_mia335_5047647.jpg,151008_mia335_5047648.jpg,151008_mia335_5047649.jpg,151008_mia335_5047650.jpg,151008_mia335_5047651.jpg,151008_mia335_5047652.jpg,151008_mia335_5047653.jpg,151008_mia335_5047654.jpg,151008_mia335_5047655.jpg,151008_mia335_5047656.jpg,151008_mia335_5047657.jpg,151008_mia335_5047658.jpg,151008_mia335_5047659.jpg,151008_mia335_5047660.jpg,151008_mia335_5047661.jpg,151008_mia335_5047662.jpg,151008_mia335_5047663.jpg,151008_mia335_5047668.jpg,blank.jpg,20150507_mia335_181847.jpg,20150507_mia335_181954.jpg,20150507_mia335_182234-0.jpg,20150507_mia335_182234-1.jpg,20150507_mia335_183032-0.jpg,20150507_mia335_183032-1.jpg,20150507_mia335_183239-0.jpg,20150507_mia335_183239-1.jpg,20150507_mia335_183429-0.jpg,20150507_mia335_183429-1.jpg,20150507_mia335_183551-0.jpg,20150507_mia335_183551-1.jpg,20150507_mia335_183653-0.jpg,20150507_mia335_183653-1.jpg,20150507_mia335_183931-0.jpg,20150507_mia335_183931-1.jpg,20150507_mia335_184353-0.jpg,20150507_mia335_184353-1.jpg,20150507_mia335_184823-0.jpg,20150507_mia335_184823-1.jpg,20150507_mia335_184902-0.jpg,20150507_mia335_184902-1.jpg,20150507_mia335_185057-0.jpg,20150507_mia335_185057-1.jpg,blank.jpg,20150507_mia335_193736.jpg,20150507_mia335_194013-0.jpg,20150507_mia335_194013-1.jpg,20150507_mia335_194057-0.jpg,20150507_mia335_194057-1.jpg,20150507_mia335_194202-0.jpg,20150507_mia335_194202-1.jpg,20150507_mia335_194349-0.jpg,20150507_mia335_194349-1.jpg,20150507_mia335_194530-0.jpg,20150507_mia335_194530-1.jpg,20150507_mia335_194804-0.jpg,20150507_mia335_194804-1.jpg,20150507_mia335_194901-0.jpg,20150507_mia335_194901-1.jpg,blank.jpg,mia_5045614.jpg,mia_5045615-0.jpg,mia_5045615-1.jpg,mia_5045616-0.jpg,mia_5045616-1.jpg,mia_5045617-0.jpg,mia_5045617-1.jpg,mia_5045618-0.jpg,mia_5045618-1.jpg,mia_5045619-0.jpg,mia_5045619-1.jpg,mia_5045620-0.jpg,mia_5045620-1.jpg,mia_5045621-0.jpg,mia_5045621-1.jpg,mia_5045622-0.jpg,mia_5045622-1.jpg,mia_5045623-0.jpg,mia_5045623-1.jpg,mia_5045624.jpg,blank.jpg,blank.jpg,mia_5051449-1.jpg,mia_5051450-0.jpg,mia_5051450-1.jpg,mia_5051451-0.jpg,mia_5051451-1.jpg,mia_5051452-0.jpg,mia_5051452-1.jpg,mia_5051453-0.jpg,mia_5051453-1.jpg,mia_5051455-0.jpg,mia_5051455-1.jpg,mia_5051456-0.jpg,mia_5051456-1.jpg,mia_5051457-0.jpg,mia_5051457-1.jpg,mia_5051458-0.jpg,mia_5051458-1.jpg,mia_5051459-0.jpg,mia_5051459-1.jpg,mia_5051460-0.jpg,mia_5051460-1.jpg,mia_5051461-0.jpg,mia_5051461-1.jpg,mia_5051462-0.jpg"
  .split(',')

// This file shows the minimum you need to provide to BookReader to display a book
//
// Copyright(c)2008-2009 Internet Archive. Software license AGPL version 3.

// Create the BookReader object
br = new BookReader();

// Return the width of a given page.  Here we assume all images are 800 pixels wide
br.getPageWidth = function(index) {
    return 800;
}

// Return the height of a given page.  Here we assume all images are 1200 pixels high
br.getPageHeight = function(index) {
    return 1200;
}

// We load the images from archive.org -- you can modify this function to retrieve images
// using a different URL structure
br.getPageURI = function(index, reduce, rotate) {
    var jpg = pages[index]
    var url = 'http://localhost:4007/'+jpg
    return url;
}

// Return which side, left or right, that a given page should be displayed on
br.getPageSide = function(index) {
    if (0 == (index & 0x1)) {
        return 'R';
    } else {
        return 'L';
    }
}

// This function returns the left and right indices for the user-visible
// spread that contains the given index.  The return values may be
// null if there is no facing page or the index is invalid.
br.getSpreadIndices = function(pindex) {
    var spreadIndices = [null, null];
    if ('rl' == this.pageProgression) {
        // Right to Left
        if (this.getPageSide(pindex) == 'R') {
            spreadIndices[1] = pindex;
            spreadIndices[0] = pindex + 1;
        } else {
            // Given index was LHS
            spreadIndices[0] = pindex;
            spreadIndices[1] = pindex - 1;
        }
    } else {
        // Left to right
        if (this.getPageSide(pindex) == 'L') {
            spreadIndices[0] = pindex;
            spreadIndices[1] = pindex + 1;
        } else {
            // Given index was RHS
            spreadIndices[1] = pindex;
            spreadIndices[0] = pindex - 1;
        }
    }

    return spreadIndices;
}

// For a given "accessible page index" return the page number in the book.
//
// For example, index 5 might correspond to "Page 1" if there is front matter such
// as a title page and table of contents.
br.getPageNum = function(index) {
    return index+1;
}

// Total number of leafs
br.numLeafs = 300;

// Book title and the URL used for the book title link
br.bookTitle= 'James Castle';
br.bookUrl  = 'http://new.artsmia.org/exhibition/james-castle-the-experience-of-every-day/';

// Override the path used to find UI images
br.imagesBaseURL = '../BookReader/images/';

br.getEmbedCode = function(frameWidth, frameHeight, viewParams) {
    return "Embed code not supported in bookreader demo.";
}

br.getOpenLibraryRecord = function(callback) {
  callback(this, {
    "table_of_contents": [
      {
        "title": "Untitled",
        "label": "",
        "pagenum": "2",
        "level": 1
      },
      {
        "title": "National Bellas Hess Company Book",
        "label": "",
        "pagenum": "212",
        "level": 1
      },
      {
        "title": "Lucky Strike “It’s Toasted” Book",
        "label": "",
        "pagenum": "237",
        "level": 1
      },
      {
        "title": "Sugar Honey Maid Graham Crackers Book",
        "label": "",
        "pagenum": "253",
        "level": 1
      },
      {
        "title": "Kaleidoscope Book",
        "label": "",
        "pagenum": "275",
        "level": 1
      },
    ]
  })
}

// start in '2up' mode
br.mode = 2

// Let's go!
br.init();

// read-aloud and search need backend compenents and are not supported in the demo
$('#BRtoolbar').find('.read').hide();
$('#textSrch').hide();
$('#btnSrch').hide();

// remove zoom buttons and top toolbar
$('#BRpage')
  .css({width: '220px'})
  .find('.zoom_in, .zoom_out').remove()

$('#BRtoolbar').remove()
